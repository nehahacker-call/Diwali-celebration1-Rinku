<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Diwali ðŸŽ†</title>
<script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.x/dist/index.umd.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Lucida Sans', Geneva, Verdana,sans-serif;}
html,body{width:100%;height:100%;overflow:hidden;background:black;}
.message{position:absolute;font-size:1.5em;font-weight:bold;text-shadow:0 0 5px #FFD700,0 0 10px #FF8C00;animation:floatUp 3s ease-out forwards, blink 1s infinite;}
@keyframes floatUp{0%{transform:translateY(0);opacity:1;}100%{transform:translateY(-150px);opacity:0;}}
@keyframes blink{0%,50%,100%{opacity:1;}25%,75%{opacity:0.5;}}
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);color:gold;display:flex;align-items:center;justify-content:center;font-size:2em;text-align:center;cursor:pointer;z-index:9999;}
.diya{position:absolute;width:20px;height:20px;background:orange;border-radius:50%;box-shadow:0 0 15px yellow;animation:floatDiya 5s linear infinite;}
@keyframes floatDiya{0%{transform:translateY(100vh);}100%{transform:translateY(-50px);}}
.confetti{position:absolute;width:6px;height:12px;opacity:0.8;animation:confettiFall linear infinite;}
@keyframes confettiFall{0%{transform:translateY(-20px) rotate(0deg);}100%{transform:translateY(100vh) rotate(360deg);}}
</style>
</head>
<body>

<div id="overlay">ðŸŽ‰ Tap Anywhere to Start Diwali Celebration! ðŸŽ‰</div>

<!-- Sounds -->
<audio id="msgSound1" src="https://www.soundjay.com/misc/sounds/diwali-cracker-01.mp3"></audio>
<audio id="msgSound2" src="https://www.soundjay.com/misc/sounds/diwali-cracker-02.mp3"></audio>
<audio id="msgSound3" src="https://www.soundjay.com/misc/sounds/diwali-bell-01.mp3"></audio>

<!-- Background Music -->
<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<script>
const container=document.createElement('div');
document.body.appendChild(container);
container.classList.add('fireworks');
const fireworks=new Fireworks.default(container,{speed:6,particles:250,acceleration:1.05,friction:0.95,gravity:1.2,trace:3,explosion:5});
fireworks.start();

const messages=[
  "âœ¨ Happy Diwali! âœ¨",
  "ðŸª” May your life be filled with light! ðŸª”",
  "ðŸŽ‡ Shine bright this Diwali! ðŸŽ‡",
  "ðŸŽ† Wishing you joy and prosperity! ðŸŽ†",
  "ðŸ’› Celebrate with happiness and love! ðŸ’›",
  "ðŸ•¯ Light over darkness! ðŸ•¯"
];
const colors=["#FFD700","#FF8C00","#FF4500","#FFFF00","#FF69B4","#ADFF2F","#00FFFF"];
const sounds=[document.getElementById('msgSound1'),document.getElementById('msgSound2'),document.getElementById('msgSound3')];

function speakMessage(text){
  if('speechSynthesis' in window){
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang='en-US';
    window.speechSynthesis.speak(utter);
  }
}

function generateMessage(){
  const msg=document.createElement('div');
  msg.classList.add('message');
  const messageText = messages[Math.floor(Math.random()*messages.length)];
  msg.textContent = messageText;
  msg.style.color = colors[Math.floor(Math.random()*colors.length)];
  msg.style.left=Math.random()*80+10+'vw';
  msg.style.top=Math.random()*60+20+'vh';
  document.body.appendChild(msg);

  // Play sound
  const sound=sounds[Math.floor(Math.random()*sounds.length)];
  sound.currentTime=0; sound.play();

  // Speak the message
  speakMessage(messageText);

  setTimeout(()=>{msg.remove();},3000);
}

function generateDiya()
  const diya=document.createElement('div');
  diya.classList.add('diya');
  diya.style.left=Math.random()*90+'vw';
  diya.style.animationDuration=(3+Math.random()*3)+'s';
  document.body.appendChild(diya);
  setTimeout(()=>{diya.remove();},6000);


function generateConfetti(){
  const confetti=document.createElement('div');
  confetti.classList.add('confetti');
  confetti.style.left=Math.random()*100+'vw';
  confetti.style.background=colors[Math.floor(Math.random()*colors.length)];
  confetti.style.animationDuration=(2+Math.random()*3)+'s';
  document.body.appendChild(confetti);
  setTimeout(()=>{confetti.remove();},5000);
}

function startCelebration(){
  document.getElementById('overlay').remove();
  const bg=document.getElementById('bgMusic');
  bg.volume=0.3; bg.play();
  setInterval(generateMessage,700);
  setInterval(generateDiya,800);
  setInterval(generateConfetti,400);
}

document.body.addEventListener('click',startCelebration,{once:true});
document.body.addEventListener('touchstart',startCelebration,{once:true});
</script>

</body>
</html>
